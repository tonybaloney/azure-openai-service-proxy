
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../sdk/">
      
      
        <link rel="next" href="../faq/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.20">
    
    
      
        <title>Deployment - Azure AI Proxy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#openai-proxy-service" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Azure AI Proxy" class="md-header__button md-logo" aria-label="Azure AI Proxy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Azure AI Proxy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deployment
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Azure AI Proxy" class="md-nav__button md-logo" aria-label="Azure AI Proxy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Azure AI Proxy
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../attendee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attendees
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../playground/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Playground
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDKs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deployment-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment issues
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-software" class="md-nav__link">
    <span class="md-ellipsis">
      Required software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-entra-app-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Create an Entra app registration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entra-app-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Entra App Registration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-the-deployed-app" class="md-nav__link">
    <span class="md-ellipsis">
      Updating the deployed app
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scaling-the-proxy-service" class="md-nav__link">
    <span class="md-ellipsis">
      Scaling the Proxy Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Managing resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancing-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Load balancing resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-an-azure-ai-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy an Azure AI Resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deployment-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment issues
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-software" class="md-nav__link">
    <span class="md-ellipsis">
      Required software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-entra-app-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Create an Entra app registration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entra-app-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Entra App Registration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-the-deployed-app" class="md-nav__link">
    <span class="md-ellipsis">
      Updating the deployed app
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scaling-the-proxy-service" class="md-nav__link">
    <span class="md-ellipsis">
      Scaling the Proxy Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Managing resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancing-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Load balancing resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-an-azure-ai-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy an Azure AI Resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="openai-proxy-service">OpenAI proxy service</h1>
<p>The solution consists of three parts; the proxy service, the proxy playground, with a similar look and feel to the official Azure OpenAI Playground, and event admin.</p>
<h2 id="deployment-issues">Deployment issues</h2>
<ol>
<li>Deploying the AI Proxy Admin Portal does not work on macOS on Apple Silicon. The workaround for now is to deploy the admin portal on a Windows, Linux machine, or from GitHub Codespaces.</li>
</ol>
<h2 id="setup">Setup</h2>
<p>This repo is set up for deployment on Azure Container Apps using the configuration files in the <code>infra</code> folder.</p>
<h3 id="prerequisites">Prerequisites</h3>
<ol>
<li>An Azure subscription</li>
<li>Deployed Azure OpenAI Models</li>
</ol>
<h3 id="required-software">Required software</h3>
<p>Tested on Windows, macOS and Ubuntu 22.04.</p>
<p>Install:</p>
<ol>
<li><a href="https://code.visualstudio.com/">VS Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VS Code Dev Containers extension</a></li>
<li><a href="https://www.docker.com/products/docker-desktop">Docker</a></li>
</ol>
<h2 id="create-an-entra-app-registration">Create an Entra app registration</h2>
<p>The AI Proxy admin is secured using Entra. You first need to register an application in your organizations Entra directory.</p>
<ol>
<li>Log into the Azure Portal.</li>
<li>Select <code>Microsoft Entra ID</code> from the left-hand menu.</li>
<li>Select <code>+ Add</code> dropdown, then select <code>App registration</code>.</li>
<li>Name the registration, ensure <code>Accounts in this organizational directory only</code> is selected, and select <code>Register</code>.</li>
<li>
<p>Navigate to <code>Overview</code>, and make a note of the <code>Application (client) ID</code> as you will need it when you deploy the solution.</p>
<p><a class="glightbox" href="../media/app-registration.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../media/app-registration.png" /></a></p>
</li>
<li>
<p>When you deploy the solution, you will need to create a client secret.</p>
</li>
<li>After the solution has been deployed, you will need to amend the app registration to add the redirect URI and enable the <code>ID tokens</code> under <code>Authentication</code>.</li>
</ol>
<h2 id="deploying">Deploying</h2>
<p>The recommended way to deploy this app is with Dev Containers. Install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VS Code Remote Containers extension</a> and Docker, open this repository in a container and you'll be ready to go.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Deploying the AI Proxy Admin Portal does not work on macOS on Apple Silicon. The workaround for now, is to deploy the solution from a Windows/ Linux machine, or GitHub Codespaces.</p>
</div>
<ol>
<li>Ensure Docker is installed and running.</li>
<li>
<p>Clone the repo:</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/microsoft/azure-openai-service-proxy.git
</code></pre></div>
</li>
<li>
<p>Open the repo in VS Code.</p>
</li>
<li>You will be prompted to <code>Reopen in Container</code>, click the button to do so. This will build the container and open the repo in a container.</li>
<li>
<p>In the VS Code dev container, open a terminal and run the following commands to authenticate with Azure:</p>
<div class="highlight"><pre><span></span><code>azd<span class="w"> </span>auth<span class="w"> </span>login<span class="w"> </span>--use-device-code
</code></pre></div>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>login<span class="w"> </span>--use-device-code
</code></pre></div>
</li>
<li>
<p>Provision and deploy the proxy solution by running the following command in the terminal:</p>
<div class="highlight"><pre><span></span><code>azd<span class="w"> </span>up
</code></pre></div>
<p>You will be prompted for the following:
1. The environment name, keep the name short, max 7 characters to avoid invalid resource names being generated.
1. Select a subscription from your Azure account.
1. Select a location (like "eastus" or "sweden central"). Then azd will provision the resources in your account and deploy the latest code. Recommend deploying the proxy to the same location you plan to deploy your models.
1. Enter a value for the 'authClientId' infrastructure parameter. This is the Entra App Registration <code>Application (client) ID</code> you created.
1. Save the value in the environment for future use.
3. Enter a value for the 'swaLocation' infrastructure parameter. Recommend selecting a location close to or the same as the Azure location you previously selected.
4. Save the value in the environment for future use.</p>
<p>On completion, the following Azure resources will be provisioned:</p>
<p><a class="glightbox" href="../media/azure_resources.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Azure OpenAI Playground experience" src="../media/azure_resources.png" /></a></p>
</li>
<li>
<p>When <code>azd</code> has finished deploying you'll see a link to the Azure Resource Group created for the solution.</p>
<p>The Admin and Playground links will be displayed when <code>azd up</code> completes.</p>
<p><a class="glightbox" href="../media/app_deployed.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../media/app_deployed.png" /></a></p>
</li>
</ol>
<h2 id="entra-app-registration">Entra App Registration</h2>
<p>After the solution has been deployed, you will need to amend the app registration to add the redirect URI and enable the <code>ID tokens</code> under <code>Authentication</code>.</p>
<ol>
<li>
<p>Navigate to the AI Proxy Admin portal URL. You'll find the URL from the output of the <code>azd up</code> command under <code>Deploying service admin</code>.</p>
</li>
<li>
<p>The log in will fail, but you will see the redirect URI in the error message. Copy the redirect URI, including the <code>/signin-oidc</code> prefix as you will need it when you update the app registration in the Azure Portal.</p>
<p><a class="glightbox" href="../media/app_auth_error.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../media/app_auth_error.png" /></a></p>
</li>
<li>
<p>Log into the Azure Portal.</p>
</li>
<li>Select <code>Microsoft Entra ID</code> from the left-hand menu.</li>
<li>Select the app registration you created earlier.</li>
<li>Navigate to <code>Authentication</code>.</li>
<li>Add the redirect URI <code>https://&lt;your-app-url&gt;/signin-oidc</code>.</li>
<li>Enable <code>ID tokens</code> under <code>Advanced settings</code>.</li>
<li>Save the changes.</li>
</ol>
<h2 id="updating-the-deployed-app">Updating the deployed app</h2>
<p>To make any changes to the app code, just run:</p>
<div class="highlight"><pre><span></span><code>azd<span class="w"> </span>deploy
</code></pre></div>
<h2 id="scaling-the-proxy-service">Scaling the Proxy Service</h2>
<p>The proxy service is stateless and scales vertically and horizontally. By default, the proxy service is configured to scale up to 10 replicas. The proxy service is configured to scale up to 10 replicas. The number of replicas can be changed from the Azure Portal or from the az cli. For example, to scale to 30 replicas using the az cli, change the:</p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>containerapp<span class="w"> </span>update<span class="w"> </span>-n<span class="w"> </span><span class="nv">$APP_NAME</span><span class="w"> </span>-g<span class="w"> </span><span class="nv">$RESOURCE_GROUP</span><span class="w"> </span>--subscription<span class="w"> </span><span class="nv">$SUBSCRIPTION_ID</span><span class="w"> </span>--replica<span class="w"> </span><span class="m">30</span>
</code></pre></div>
<h2 id="managing-resources">Managing resources</h2>
<p>You can configure multiple resources with the AI Proxy.</p>
<table>
<thead>
<tr>
<th>Model deployment class</th>
<th>Resource</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>openai-chat</code></td>
<td>gpt-35-turbo, gpt-35-turbo-16k, or newer</td>
<td>This is the model deployment class for the Azure OpenAI Chat Completions API.</td>
</tr>
<tr>
<td><code>openai-completions</code></td>
<td>davinci-002 or newer</td>
<td>This is the model deployment class for the Azure OpenAI Completions API.</td>
</tr>
<tr>
<td><code>openai-embeddings</code></td>
<td>text-embedding-ada-002 or newer</td>
<td>This is the model deployment class for the Azure OpenAI Embeddings API.</td>
</tr>
<tr>
<td><code>azure-ai-search</code></td>
<td>Azure AI Search index name</td>
<td>This allows for pass through access to an instance of Azure AI Search for Search/Query only. Note, recommend creating a read-only query key in Azure AI Search, if you want to use Semantic Ranking then you need to create a Standard SKU for Azure AI Search.</td>
</tr>
<tr>
<td><code>openai-dall-e-3</code></td>
<td>dall-3-e</td>
<td>This is the model deployment class for the Azure OpenAI Dall-e-3 models.</td>
</tr>
<tr>
<td><code>openai-dall-e-2</code></td>
<td>No model is deploy, just an Azure OpenAI resource in a location that supports the Images Generations API</td>
<td>This is the model deployment class for the Azure OpenAI Images Generations API.</td>
</tr>
</tbody>
</table>
<h2 id="load-balancing-resources">Load balancing resources</h2>
<p>You can deploy multiple instances of model with the same deployment name. For example, you can deploy multiple <code>gpt-35-turbo</code> models in difference Azure OpenAI resources with the same deployment name. The proxy will round robin across the resources with the same deployment name to balance the load.</p>
<h2 id="deploy-an-azure-ai-resources">Deploy an Azure AI Resources</h2>
<ol>
<li>Open the Azure Portal.</li>
<li>Create a Azure resource group for your models. Naming suggestions include <code>ai-proxy-resources</code>.</li>
<li>Add AI resources to the resource group you created. See <a href="https://learn.microsoft.com/azure/ai-services/openai/how-to/create-resource">Create and deploy an Azure OpenAI Service resource</a> for more information.</li>
<li>Make a note of the <code>endpoint_key</code> and <code>endpoint_url</code> as you'll need them when you configure resources for the AI Proxy.</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>